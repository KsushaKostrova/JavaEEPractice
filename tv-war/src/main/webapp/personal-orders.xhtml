<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">

<h:head>
	<title>TV Shop</title>
</h:head>

<h:body>
	<h2>Your orders</h2>
	<h:form>
		<p:dataTable var="order" value="#{userData.orders}">
			<p:column headerText="Id">
				<h:outputText value="#{order.id}" />
			</p:column>

			<p:column headerText="Created">
				<h:outputText value="#{order.orderTime}" />
			</p:column>

			<p:column headerText="Address">
				<h:outputText value="#{order.address}" />
			</p:column>

			<p:column headerText="Good(s)">
				<p:dataTable var="good" value="#{order.goods}">
					<p:column headerText="goodName">
						<h:outputText value="#{good.name}" />
					</p:column>
					
					<p:column headerText="goodQuantity">
						<h:outputText value="#{userData.getGoodQuantity(good.id,order.id)}" />
					</p:column>
					
					<p:column headerText="goodPrice">
						<h:outputText value="#{good.price}" />
					</p:column>
				</p:dataTable>

			</p:column>
		</p:dataTable>

		<p:commandButton value="To the shop" action="shop?faces-redirect=true" />
	</h:form>
</h:body>
</html>